<html>
<head>
<title>GeneralSoS.java</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #cf8e6d;}
.s1 { color: #bcbec4;}
.s2 { color: #bcbec4;}
.s3 { color: #7a7e85;}
.s4 { color: #2aacb8;}
.s5 { color: #6aab73;}
</style>
</head>
<body bgcolor="#1e1f22">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#606060" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
GeneralSoS.java</font>
</center></td></tr></table>
<pre><span class="s0">package </span><span class="s1">com</span><span class="s2">.</span><span class="s1">example</span><span class="s2">.</span><span class="s1">gamesos</span><span class="s2">;</span>

<span class="s0">import </span><span class="s1">javafx</span><span class="s2">.</span><span class="s1">animation</span><span class="s2">.</span><span class="s1">PauseTransition</span><span class="s2">;</span>
<span class="s0">import </span><span class="s1">javafx</span><span class="s2">.</span><span class="s1">application</span><span class="s2">.</span><span class="s1">Platform</span><span class="s2">;</span>
<span class="s0">import </span><span class="s1">javafx</span><span class="s2">.</span><span class="s1">geometry</span><span class="s2">.</span><span class="s1">Insets</span><span class="s2">;</span>
<span class="s0">import </span><span class="s1">javafx</span><span class="s2">.</span><span class="s1">geometry</span><span class="s2">.</span><span class="s1">Pos</span><span class="s2">;</span>
<span class="s0">import </span><span class="s1">javafx</span><span class="s2">.</span><span class="s1">scene</span><span class="s2">.</span><span class="s1">control</span><span class="s2">.*;</span>
<span class="s0">import </span><span class="s1">javafx</span><span class="s2">.</span><span class="s1">scene</span><span class="s2">.</span><span class="s1">layout</span><span class="s2">.</span><span class="s1">GridPane</span><span class="s2">;</span>
<span class="s0">import </span><span class="s1">javafx</span><span class="s2">.</span><span class="s1">scene</span><span class="s2">.</span><span class="s1">layout</span><span class="s2">.</span><span class="s1">HBox</span><span class="s2">;</span>
<span class="s0">import </span><span class="s1">javafx</span><span class="s2">.</span><span class="s1">stage</span><span class="s2">.</span><span class="s1">Stage</span><span class="s2">;</span>
<span class="s0">import </span><span class="s1">javafx</span><span class="s2">.</span><span class="s1">util</span><span class="s2">.</span><span class="s1">Duration</span><span class="s2">;</span>

<span class="s0">import </span><span class="s1">java</span><span class="s2">.</span><span class="s1">util</span><span class="s2">.*;</span>

<span class="s0">public class </span><span class="s1">GeneralSoS </span><span class="s2">{</span>
    <span class="s0">protected </span><span class="s1">String</span><span class="s2">[][] </span><span class="s1">grid</span><span class="s2">;</span>
    <span class="s0">protected </span><span class="s1">Button</span><span class="s2">[][] </span><span class="s1">buttons</span><span class="s2">; </span><span class="s3">// 2D array to store buttons</span>
    <span class="s0">protected </span><span class="s1">Label player1ScoreLabel</span><span class="s2">;</span>
    <span class="s0">protected </span><span class="s1">Label player2ScoreLabel</span><span class="s2">;</span>
    <span class="s0">protected </span><span class="s1">Label currentPlayerTurnLabel</span><span class="s2">;</span>
    <span class="s0">protected </span><span class="s1">GridPane gameBoard</span><span class="s2">; </span><span class="s3">// GridPane for the game board</span>
    <span class="s0">protected boolean </span><span class="s1">isPlayer1Turn </span><span class="s2">= </span><span class="s0">true</span><span class="s2">; </span><span class="s3">// To track whose turn it is</span>
    <span class="s0">protected int </span><span class="s1">player1Score </span><span class="s2">= </span><span class="s4">0</span><span class="s2">;</span>
    <span class="s0">protected int </span><span class="s1">player2Score </span><span class="s2">= </span><span class="s4">0</span><span class="s2">;</span>

    <span class="s3">// Radio buttons for selecting &quot;S&quot; or &quot;O&quot;</span>
    <span class="s0">protected </span><span class="s1">RadioButton sButton</span><span class="s2">;</span>
    <span class="s0">protected </span><span class="s1">RadioButton oButton</span><span class="s2">;</span>
    <span class="s0">protected </span><span class="s1">ToggleGroup toggleGroup</span><span class="s2">;</span>

    <span class="s3">// Variables to store player types</span>
    <span class="s0">protected boolean </span><span class="s1">isPlayer1Computer </span><span class="s2">= </span><span class="s0">false</span><span class="s2">;</span>
    <span class="s0">protected boolean </span><span class="s1">isPlayer2Computer </span><span class="s2">= </span><span class="s0">false</span><span class="s2">;</span>

    <span class="s3">// Reference to the primary stage and start page</span>
    <span class="s0">protected </span><span class="s1">Stage primaryStage</span><span class="s2">;</span>
    <span class="s0">protected </span><span class="s1">StartPage startPage</span><span class="s2">;</span>

    <span class="s3">// Inner class to represent a position on the grid</span>
    <span class="s0">protected static class </span><span class="s1">Position </span><span class="s2">{</span>
        <span class="s0">int </span><span class="s1">row</span><span class="s2">;</span>
        <span class="s0">int </span><span class="s1">col</span><span class="s2">;</span>

        <span class="s1">Position</span><span class="s2">(</span><span class="s0">int </span><span class="s1">row</span><span class="s2">, </span><span class="s0">int </span><span class="s1">col</span><span class="s2">) {</span>
            <span class="s0">this</span><span class="s2">.</span><span class="s1">row </span><span class="s2">= </span><span class="s1">row</span><span class="s2">;</span>
            <span class="s0">this</span><span class="s2">.</span><span class="s1">col </span><span class="s2">= </span><span class="s1">col</span><span class="s2">;</span>
        <span class="s2">}</span>
    <span class="s2">}</span>

    <span class="s3">// Setter for primaryStage</span>
    <span class="s0">public void </span><span class="s1">setPrimaryStage</span><span class="s2">(</span><span class="s1">Stage primaryStage</span><span class="s2">) {</span>
        <span class="s0">this</span><span class="s2">.</span><span class="s1">primaryStage </span><span class="s2">= </span><span class="s1">primaryStage</span><span class="s2">;</span>
    <span class="s2">}</span>

    <span class="s3">// Setter for startPage</span>
    <span class="s0">public void </span><span class="s1">setStartPage</span><span class="s2">(</span><span class="s1">StartPage startPage</span><span class="s2">) {</span>
        <span class="s0">this</span><span class="s2">.</span><span class="s1">startPage </span><span class="s2">= </span><span class="s1">startPage</span><span class="s2">;</span>
    <span class="s2">}</span>

    <span class="s3">// Method to set up the game</span>
    <span class="s0">public void </span><span class="s1">simpleSetup</span><span class="s2">(</span><span class="s0">int </span><span class="s1">boardSize</span><span class="s2">, </span><span class="s0">boolean </span><span class="s1">isPlayer1Computer</span><span class="s2">, </span><span class="s0">boolean </span><span class="s1">isPlayer2Computer</span><span class="s2">) {</span>
        <span class="s0">this</span><span class="s2">.</span><span class="s1">isPlayer1Computer </span><span class="s2">= </span><span class="s1">isPlayer1Computer</span><span class="s2">;</span>
        <span class="s0">this</span><span class="s2">.</span><span class="s1">isPlayer2Computer </span><span class="s2">= </span><span class="s1">isPlayer2Computer</span><span class="s2">;</span>

        <span class="s1">grid </span><span class="s2">= </span><span class="s0">new </span><span class="s1">String</span><span class="s2">[</span><span class="s1">boardSize</span><span class="s2">][</span><span class="s1">boardSize</span><span class="s2">];</span>
        <span class="s1">buttons </span><span class="s2">= </span><span class="s0">new </span><span class="s1">Button</span><span class="s2">[</span><span class="s1">boardSize</span><span class="s2">][</span><span class="s1">boardSize</span><span class="s2">]; </span><span class="s3">// Initialize the buttons array</span>

        <span class="s3">// Initialize the GridPane</span>
        <span class="s1">gameBoard </span><span class="s2">= </span><span class="s0">new </span><span class="s1">GridPane</span><span class="s2">();</span>
        <span class="s1">gameBoard</span><span class="s2">.</span><span class="s1">setPadding</span><span class="s2">(</span><span class="s0">new </span><span class="s1">Insets</span><span class="s2">(</span><span class="s4">20</span><span class="s2">));</span>
        <span class="s1">gameBoard</span><span class="s2">.</span><span class="s1">setHgap</span><span class="s2">(</span><span class="s4">5</span><span class="s2">);</span>
        <span class="s1">gameBoard</span><span class="s2">.</span><span class="s1">setVgap</span><span class="s2">(</span><span class="s4">5</span><span class="s2">);</span>
        <span class="s1">gameBoard</span><span class="s2">.</span><span class="s1">setAlignment</span><span class="s2">(</span><span class="s1">Pos</span><span class="s2">.</span><span class="s1">CENTER</span><span class="s2">);</span>

        <span class="s3">// Initialize Labels</span>
        <span class="s1">currentPlayerTurnLabel </span><span class="s2">= </span><span class="s0">new </span><span class="s1">Label</span><span class="s2">(</span><span class="s5">&quot;Player 1's Turn&quot;</span><span class="s2">);</span>
        <span class="s1">player1ScoreLabel </span><span class="s2">= </span><span class="s0">new </span><span class="s1">Label</span><span class="s2">(</span><span class="s5">&quot;Player 1 (Blue) Score: 0&quot;</span><span class="s2">);</span>
        <span class="s1">player2ScoreLabel </span><span class="s2">= </span><span class="s0">new </span><span class="s1">Label</span><span class="s2">(</span><span class="s5">&quot;Player 2 (Red) Score: 0&quot;</span><span class="s2">);</span>

        <span class="s3">// Set up the radio buttons</span>
        <span class="s1">setupRadioButtons</span><span class="s2">();</span>

        <span class="s3">// Create buttons for each cell in the grid</span>
        <span class="s0">for </span><span class="s2">(</span><span class="s0">int </span><span class="s1">i </span><span class="s2">= </span><span class="s4">0</span><span class="s2">; </span><span class="s1">i </span><span class="s2">&lt; </span><span class="s1">boardSize</span><span class="s2">; </span><span class="s1">i</span><span class="s2">++) {</span>
            <span class="s0">for </span><span class="s2">(</span><span class="s0">int </span><span class="s1">j </span><span class="s2">= </span><span class="s4">0</span><span class="s2">; </span><span class="s1">j </span><span class="s2">&lt; </span><span class="s1">boardSize</span><span class="s2">; </span><span class="s1">j</span><span class="s2">++) {</span>
                <span class="s1">Button cellButton </span><span class="s2">= </span><span class="s1">createCellButton</span><span class="s2">(</span><span class="s1">i</span><span class="s2">, </span><span class="s1">j</span><span class="s2">);</span>
                <span class="s1">gameBoard</span><span class="s2">.</span><span class="s1">add</span><span class="s2">(</span><span class="s1">cellButton</span><span class="s2">, </span><span class="s1">j</span><span class="s2">, </span><span class="s1">i</span><span class="s2">);</span>
            <span class="s2">}</span>
        <span class="s2">}</span>

        <span class="s3">// If the first player is a computer, make the first move</span>
        <span class="s0">if </span><span class="s2">(</span><span class="s0">this</span><span class="s2">.</span><span class="s1">isPlayer1Turn </span><span class="s2">&amp;&amp; </span><span class="s0">this</span><span class="s2">.</span><span class="s1">isPlayer1Computer</span><span class="s2">) {</span>
            <span class="s1">setBoardDisabled</span><span class="s2">(</span><span class="s0">true</span><span class="s2">);</span>
            <span class="s1">makeComputerMove</span><span class="s2">();</span>
        <span class="s2">}</span>
    <span class="s2">}</span>

    <span class="s3">// Method to create a button for a cell</span>
    <span class="s0">protected </span><span class="s1">Button createCellButton</span><span class="s2">(</span><span class="s0">int </span><span class="s1">row</span><span class="s2">, </span><span class="s0">int </span><span class="s1">col</span><span class="s2">) {</span>
        <span class="s1">Button cellButton </span><span class="s2">= </span><span class="s0">new </span><span class="s1">Button</span><span class="s2">();</span>
        <span class="s1">cellButton</span><span class="s2">.</span><span class="s1">setMinSize</span><span class="s2">(</span><span class="s4">50</span><span class="s2">, </span><span class="s4">50</span><span class="s2">);</span>

        <span class="s3">// Store the button in the array</span>
        <span class="s1">buttons</span><span class="s2">[</span><span class="s1">row</span><span class="s2">][</span><span class="s1">col</span><span class="s2">] = </span><span class="s1">cellButton</span><span class="s2">;</span>

        <span class="s3">// Add a click event for the button</span>
        <span class="s1">cellButton</span><span class="s2">.</span><span class="s1">setOnAction</span><span class="s2">(</span><span class="s1">e -&gt; clickCell</span><span class="s2">(</span><span class="s1">cellButton</span><span class="s2">, </span><span class="s1">row</span><span class="s2">, </span><span class="s1">col</span><span class="s2">));</span>
        <span class="s0">return </span><span class="s1">cellButton</span><span class="s2">;</span>
    <span class="s2">}</span>

    <span class="s3">// Method to handle cell click events</span>
    <span class="s0">protected void </span><span class="s1">clickCell</span><span class="s2">(</span><span class="s1">Button cellButton</span><span class="s2">, </span><span class="s0">int </span><span class="s1">row</span><span class="s2">, </span><span class="s0">int </span><span class="s1">col</span><span class="s2">) {</span>
        <span class="s3">// Ignore clicks if it's not the human's turn</span>
        <span class="s0">if </span><span class="s2">((</span><span class="s1">isPlayer1Turn </span><span class="s2">&amp;&amp; </span><span class="s1">isPlayer1Computer</span><span class="s2">) || (!</span><span class="s1">isPlayer1Turn </span><span class="s2">&amp;&amp; </span><span class="s1">isPlayer2Computer</span><span class="s2">)) {</span>
            <span class="s0">return</span><span class="s2">;</span>
        <span class="s2">}</span>

        <span class="s3">// Place 'S' or 'O' only if the cell is empty</span>
        <span class="s0">if </span><span class="s2">(</span><span class="s1">grid</span><span class="s2">[</span><span class="s1">row</span><span class="s2">][</span><span class="s1">col</span><span class="s2">] == </span><span class="s0">null</span><span class="s2">) {</span>
            <span class="s1">String currentSymbol </span><span class="s2">= </span><span class="s1">getCurrentSymbol</span><span class="s2">();</span>
            <span class="s0">if </span><span class="s2">(!</span><span class="s1">currentSymbol</span><span class="s2">.</span><span class="s1">isEmpty</span><span class="s2">()) {</span>
                <span class="s1">grid</span><span class="s2">[</span><span class="s1">row</span><span class="s2">][</span><span class="s1">col</span><span class="s2">] = </span><span class="s1">currentSymbol</span><span class="s2">;</span>
                <span class="s1">cellButton</span><span class="s2">.</span><span class="s1">setText</span><span class="s2">(</span><span class="s1">currentSymbol</span><span class="s2">);</span>

                <span class="s0">boolean </span><span class="s1">sosFormed </span><span class="s2">= </span><span class="s1">checkForSOS</span><span class="s2">(</span><span class="s1">row</span><span class="s2">, </span><span class="s1">col</span><span class="s2">);</span>

                <span class="s0">if </span><span class="s2">(</span><span class="s1">sosFormed</span><span class="s2">) {</span>
                    <span class="s3">// Update the score and allow the player to take another turn</span>
                    <span class="s1">updateScore</span><span class="s2">();</span>
                <span class="s2">} </span><span class="s0">else </span><span class="s2">{</span>
                    <span class="s3">// Switch turns if no SOS is formed</span>
                    <span class="s1">switchTurns</span><span class="s2">();</span>
                <span class="s2">}</span>

                <span class="s3">// Check if the game is over</span>
                <span class="s0">if </span><span class="s2">(</span><span class="s1">isBoardFull</span><span class="s2">()) {</span>
                    <span class="s1">declareWinner</span><span class="s2">();</span>
                    <span class="s0">return</span><span class="s2">;</span>
                <span class="s2">}</span>

                <span class="s3">// Check if the next player is a computer</span>
                <span class="s0">if </span><span class="s2">((</span><span class="s1">isPlayer1Turn </span><span class="s2">&amp;&amp; </span><span class="s1">isPlayer1Computer</span><span class="s2">) || (!</span><span class="s1">isPlayer1Turn </span><span class="s2">&amp;&amp; </span><span class="s1">isPlayer2Computer</span><span class="s2">)) {</span>
                    <span class="s1">setBoardDisabled</span><span class="s2">(</span><span class="s0">true</span><span class="s2">); </span><span class="s3">// Disable the board during computer's turn</span>
                    <span class="s1">makeComputerMove</span><span class="s2">();</span>
                <span class="s2">}</span>
            <span class="s2">} </span><span class="s0">else </span><span class="s2">{</span>
                <span class="s1">System</span><span class="s2">.</span><span class="s1">out</span><span class="s2">.</span><span class="s1">println</span><span class="s2">(</span><span class="s5">&quot;Please select either S or O before playing a move.&quot;</span><span class="s2">);</span>
            <span class="s2">}</span>
        <span class="s2">}</span>
    <span class="s2">}</span>

    <span class="s3">// Method to update the score when SOS is formed</span>
    <span class="s0">protected void </span><span class="s1">updateScore</span><span class="s2">() {</span>
        <span class="s0">if </span><span class="s2">(</span><span class="s1">isPlayer1Turn</span><span class="s2">) {</span>
            <span class="s1">player1Score</span><span class="s2">++;</span>
            <span class="s1">player1ScoreLabel</span><span class="s2">.</span><span class="s1">setText</span><span class="s2">(</span><span class="s5">&quot;Player 1 (Blue) Score: &quot; </span><span class="s2">+ </span><span class="s1">player1Score</span><span class="s2">);</span>
        <span class="s2">} </span><span class="s0">else </span><span class="s2">{</span>
            <span class="s1">player2Score</span><span class="s2">++;</span>
            <span class="s1">player2ScoreLabel</span><span class="s2">.</span><span class="s1">setText</span><span class="s2">(</span><span class="s5">&quot;Player 2 (Red) Score: &quot; </span><span class="s2">+ </span><span class="s1">player2Score</span><span class="s2">);</span>
        <span class="s2">}</span>
        <span class="s3">// Player gets another turn</span>
        <span class="s1">currentPlayerTurnLabel</span><span class="s2">.</span><span class="s1">setText</span><span class="s2">(</span><span class="s5">&quot;Player &quot; </span><span class="s2">+ (</span><span class="s1">isPlayer1Turn </span><span class="s2">? </span><span class="s5">&quot;1&quot; </span><span class="s2">: </span><span class="s5">&quot;2&quot;</span><span class="s2">) + </span><span class="s5">&quot; scores! Take another turn.&quot;</span><span class="s2">);</span>
    <span class="s2">}</span>

    <span class="s3">// Method to switch player turns</span>
    <span class="s0">protected void </span><span class="s1">switchTurns</span><span class="s2">() {</span>
        <span class="s1">isPlayer1Turn </span><span class="s2">= !</span><span class="s1">isPlayer1Turn</span><span class="s2">;</span>
        <span class="s1">currentPlayerTurnLabel</span><span class="s2">.</span><span class="s1">setText</span><span class="s2">(</span><span class="s5">&quot;Player &quot; </span><span class="s2">+ (</span><span class="s1">isPlayer1Turn </span><span class="s2">? </span><span class="s5">&quot;1's&quot; </span><span class="s2">: </span><span class="s5">&quot;2's&quot;</span><span class="s2">) + </span><span class="s5">&quot; Turn&quot;</span><span class="s2">);</span>
    <span class="s2">}</span>

    <span class="s3">// Method to set up the radio buttons</span>
    <span class="s0">protected void </span><span class="s1">setupRadioButtons</span><span class="s2">() {</span>
        <span class="s3">// Initialize radio buttons and toggle group</span>
        <span class="s1">sButton </span><span class="s2">= </span><span class="s0">new </span><span class="s1">RadioButton</span><span class="s2">(</span><span class="s5">&quot;S&quot;</span><span class="s2">);</span>
        <span class="s1">oButton </span><span class="s2">= </span><span class="s0">new </span><span class="s1">RadioButton</span><span class="s2">(</span><span class="s5">&quot;O&quot;</span><span class="s2">);</span>
        <span class="s1">toggleGroup </span><span class="s2">= </span><span class="s0">new </span><span class="s1">ToggleGroup</span><span class="s2">();</span>

        <span class="s3">// Add radio buttons to the toggle group</span>
        <span class="s1">sButton</span><span class="s2">.</span><span class="s1">setToggleGroup</span><span class="s2">(</span><span class="s1">toggleGroup</span><span class="s2">);</span>
        <span class="s1">oButton</span><span class="s2">.</span><span class="s1">setToggleGroup</span><span class="s2">(</span><span class="s1">toggleGroup</span><span class="s2">);</span>

        <span class="s3">// Set default selection to &quot;S&quot;</span>
        <span class="s1">sButton</span><span class="s2">.</span><span class="s1">setSelected</span><span class="s2">(</span><span class="s0">true</span><span class="s2">);</span>
    <span class="s2">}</span>

    <span class="s3">// Method to get the currently selected symbol</span>
    <span class="s0">public </span><span class="s1">String getCurrentSymbol</span><span class="s2">() {</span>
        <span class="s0">if </span><span class="s2">(</span><span class="s1">sButton</span><span class="s2">.</span><span class="s1">isSelected</span><span class="s2">()) {</span>
            <span class="s0">return </span><span class="s5">&quot;S&quot;</span><span class="s2">;</span>
        <span class="s2">} </span><span class="s0">else if </span><span class="s2">(</span><span class="s1">oButton</span><span class="s2">.</span><span class="s1">isSelected</span><span class="s2">()) {</span>
            <span class="s0">return </span><span class="s5">&quot;O&quot;</span><span class="s2">;</span>
        <span class="s2">} </span><span class="s0">else </span><span class="s2">{</span>
            <span class="s0">return </span><span class="s5">&quot;&quot;</span><span class="s2">; </span><span class="s3">// If nothing is selected</span>
        <span class="s2">}</span>
    <span class="s2">}</span>

    <span class="s3">// Getter method to access the game board</span>
    <span class="s0">public </span><span class="s1">GridPane getGameBoard</span><span class="s2">() {</span>
        <span class="s0">return </span><span class="s1">gameBoard</span><span class="s2">;</span>
    <span class="s2">}</span>

    <span class="s3">// Method to color in the cells forming SOS</span>
    <span class="s0">protected void </span><span class="s1">colorInCells</span><span class="s2">(</span><span class="s1">List</span><span class="s2">&lt;</span><span class="s1">Position</span><span class="s2">&gt; </span><span class="s1">positions</span><span class="s2">, </span><span class="s1">String color</span><span class="s2">) {</span>
        <span class="s0">for </span><span class="s2">(</span><span class="s1">Position pos </span><span class="s2">: </span><span class="s1">positions</span><span class="s2">) {</span>
            <span class="s1">Button cellButton </span><span class="s2">= </span><span class="s1">buttons</span><span class="s2">[</span><span class="s1">pos</span><span class="s2">.</span><span class="s1">row</span><span class="s2">][</span><span class="s1">pos</span><span class="s2">.</span><span class="s1">col</span><span class="s2">];</span>
            <span class="s1">cellButton</span><span class="s2">.</span><span class="s1">setStyle</span><span class="s2">(</span><span class="s5">&quot;-fx-text-fill: &quot; </span><span class="s2">+ </span><span class="s1">color </span><span class="s2">+ </span><span class="s5">&quot;;&quot;</span><span class="s2">);</span>
        <span class="s2">}</span>
    <span class="s2">}</span>

    <span class="s3">// Method to check if a position is within grid bounds</span>
    <span class="s0">protected boolean </span><span class="s1">isInGrid</span><span class="s2">(</span><span class="s0">int </span><span class="s1">row</span><span class="s2">, </span><span class="s0">int </span><span class="s1">col</span><span class="s2">) {</span>
        <span class="s0">return </span><span class="s1">row </span><span class="s2">&gt;= </span><span class="s4">0 </span><span class="s2">&amp;&amp; </span><span class="s1">row </span><span class="s2">&lt; </span><span class="s1">grid</span><span class="s2">.</span><span class="s1">length </span><span class="s2">&amp;&amp; </span><span class="s1">col </span><span class="s2">&gt;= </span><span class="s4">0 </span><span class="s2">&amp;&amp; </span><span class="s1">col </span><span class="s2">&lt; </span><span class="s1">grid</span><span class="s2">.</span><span class="s1">length</span><span class="s2">;</span>
    <span class="s2">}</span>

    <span class="s3">// Getter for the radio buttons in an HBox</span>
    <span class="s0">public </span><span class="s1">HBox getRadioButtons</span><span class="s2">() {</span>
        <span class="s0">return new </span><span class="s1">HBox</span><span class="s2">(</span><span class="s4">10</span><span class="s2">, </span><span class="s1">sButton</span><span class="s2">, </span><span class="s1">oButton</span><span class="s2">);</span>
    <span class="s2">}</span>

    <span class="s3">// Method to check for SOS formations around the last placed symbol</span>
    <span class="s0">public boolean </span><span class="s1">checkForSOS</span><span class="s2">(</span><span class="s0">int </span><span class="s1">row</span><span class="s2">, </span><span class="s0">int </span><span class="s1">col</span><span class="s2">) {</span>
        <span class="s1">String currentPlayerColor </span><span class="s2">= </span><span class="s1">isPlayer1Turn </span><span class="s2">? </span><span class="s5">&quot;blue&quot; </span><span class="s2">: </span><span class="s5">&quot;red&quot;</span><span class="s2">;</span>
        <span class="s0">boolean </span><span class="s1">sosFound </span><span class="s2">= </span><span class="s0">false</span><span class="s2">;</span>

        <span class="s3">// Define directions: horizontal, vertical, diagonal (\), diagonal (/)</span>
        <span class="s0">int</span><span class="s2">[][] </span><span class="s1">directions </span><span class="s2">= {</span>
                <span class="s2">{</span><span class="s4">0</span><span class="s2">, </span><span class="s4">1</span><span class="s2">},   </span><span class="s3">// Horizontal</span>
                <span class="s2">{</span><span class="s4">1</span><span class="s2">, </span><span class="s4">0</span><span class="s2">},   </span><span class="s3">// Vertical</span>
                <span class="s2">{</span><span class="s4">1</span><span class="s2">, </span><span class="s4">1</span><span class="s2">},   </span><span class="s3">// Diagonal down-right</span>
                <span class="s2">{-</span><span class="s4">1</span><span class="s2">, </span><span class="s4">1</span><span class="s2">}   </span><span class="s3">// Diagonal up-right</span>
        <span class="s2">};</span>

        <span class="s0">for </span><span class="s2">(</span><span class="s0">int</span><span class="s2">[] </span><span class="s1">dir </span><span class="s2">: </span><span class="s1">directions</span><span class="s2">) {</span>
            <span class="s0">int </span><span class="s1">dRow </span><span class="s2">= </span><span class="s1">dir</span><span class="s2">[</span><span class="s4">0</span><span class="s2">];</span>
            <span class="s0">int </span><span class="s1">dCol </span><span class="s2">= </span><span class="s1">dir</span><span class="s2">[</span><span class="s4">1</span><span class="s2">];</span>

            <span class="s3">// Check for SOS in all possible positions</span>
            <span class="s1">sosFound </span><span class="s2">|= </span><span class="s1">checkDirectionForSOS</span><span class="s2">(</span><span class="s1">row</span><span class="s2">, </span><span class="s1">col</span><span class="s2">, </span><span class="s1">dRow</span><span class="s2">, </span><span class="s1">dCol</span><span class="s2">, </span><span class="s1">currentPlayerColor</span><span class="s2">);</span>
        <span class="s2">}</span>

        <span class="s0">return </span><span class="s1">sosFound</span><span class="s2">;</span>
    <span class="s2">}</span>

    <span class="s3">// Modified method to check for SOS in a specific direction</span>
    <span class="s0">protected boolean </span><span class="s1">checkDirectionForSOS</span><span class="s2">(</span><span class="s0">int </span><span class="s1">row</span><span class="s2">, </span><span class="s0">int </span><span class="s1">col</span><span class="s2">, </span><span class="s0">int </span><span class="s1">dRow</span><span class="s2">, </span><span class="s0">int </span><span class="s1">dCol</span><span class="s2">, </span><span class="s1">String color</span><span class="s2">) {</span>
        <span class="s0">boolean </span><span class="s1">sosFound </span><span class="s2">= </span><span class="s0">false</span><span class="s2">;</span>

        <span class="s3">// Check for SOS with the new symbol at the middle</span>
        <span class="s1">sosFound </span><span class="s2">|= </span><span class="s1">checkSOSPattern</span><span class="s2">(</span><span class="s1">row </span><span class="s2">- </span><span class="s1">dRow</span><span class="s2">, </span><span class="s1">col </span><span class="s2">- </span><span class="s1">dCol</span><span class="s2">, </span><span class="s1">row</span><span class="s2">, </span><span class="s1">col</span><span class="s2">, </span><span class="s1">row </span><span class="s2">+ </span><span class="s1">dRow</span><span class="s2">, </span><span class="s1">col </span><span class="s2">+ </span><span class="s1">dCol</span><span class="s2">, </span><span class="s1">color</span><span class="s2">);</span>

        <span class="s3">// Check for SOS with the new symbol at the start</span>
        <span class="s1">sosFound </span><span class="s2">|= </span><span class="s1">checkSOSPattern</span><span class="s2">(</span><span class="s1">row</span><span class="s2">, </span><span class="s1">col</span><span class="s2">, </span><span class="s1">row </span><span class="s2">+ </span><span class="s1">dRow</span><span class="s2">, </span><span class="s1">col </span><span class="s2">+ </span><span class="s1">dCol</span><span class="s2">, </span><span class="s1">row </span><span class="s2">+ </span><span class="s4">2 </span><span class="s2">* </span><span class="s1">dRow</span><span class="s2">, </span><span class="s1">col </span><span class="s2">+ </span><span class="s4">2 </span><span class="s2">* </span><span class="s1">dCol</span><span class="s2">, </span><span class="s1">color</span><span class="s2">);</span>

        <span class="s3">// Check for SOS with the new symbol at the end</span>
        <span class="s1">sosFound </span><span class="s2">|= </span><span class="s1">checkSOSPattern</span><span class="s2">(</span><span class="s1">row </span><span class="s2">- </span><span class="s4">2 </span><span class="s2">* </span><span class="s1">dRow</span><span class="s2">, </span><span class="s1">col </span><span class="s2">- </span><span class="s4">2 </span><span class="s2">* </span><span class="s1">dCol</span><span class="s2">, </span><span class="s1">row </span><span class="s2">- </span><span class="s1">dRow</span><span class="s2">, </span><span class="s1">col </span><span class="s2">- </span><span class="s1">dCol</span><span class="s2">, </span><span class="s1">row</span><span class="s2">, </span><span class="s1">col</span><span class="s2">, </span><span class="s1">color</span><span class="s2">);</span>

        <span class="s0">return </span><span class="s1">sosFound</span><span class="s2">;</span>
    <span class="s2">}</span>

    <span class="s3">// Helper method to check for SOS patterns</span>
    <span class="s0">protected boolean </span><span class="s1">checkSOSPattern</span><span class="s2">(</span><span class="s0">int </span><span class="s1">row1</span><span class="s2">, </span><span class="s0">int </span><span class="s1">col1</span><span class="s2">, </span><span class="s0">int </span><span class="s1">row2</span><span class="s2">, </span><span class="s0">int </span><span class="s1">col2</span><span class="s2">, </span><span class="s0">int </span><span class="s1">row3</span><span class="s2">, </span><span class="s0">int </span><span class="s1">col3</span><span class="s2">, </span><span class="s1">String color</span><span class="s2">) {</span>
        <span class="s0">if </span><span class="s2">(</span><span class="s1">isInGrid</span><span class="s2">(</span><span class="s1">row1</span><span class="s2">, </span><span class="s1">col1</span><span class="s2">) &amp;&amp; </span><span class="s1">isInGrid</span><span class="s2">(</span><span class="s1">row2</span><span class="s2">, </span><span class="s1">col2</span><span class="s2">) &amp;&amp; </span><span class="s1">isInGrid</span><span class="s2">(</span><span class="s1">row3</span><span class="s2">, </span><span class="s1">col3</span><span class="s2">)) {</span>
            <span class="s1">String first </span><span class="s2">= </span><span class="s1">grid</span><span class="s2">[</span><span class="s1">row1</span><span class="s2">][</span><span class="s1">col1</span><span class="s2">];</span>
            <span class="s1">String middle </span><span class="s2">= </span><span class="s1">grid</span><span class="s2">[</span><span class="s1">row2</span><span class="s2">][</span><span class="s1">col2</span><span class="s2">];</span>
            <span class="s1">String last </span><span class="s2">= </span><span class="s1">grid</span><span class="s2">[</span><span class="s1">row3</span><span class="s2">][</span><span class="s1">col3</span><span class="s2">];</span>

            <span class="s0">if </span><span class="s2">(</span><span class="s5">&quot;S&quot;</span><span class="s2">.</span><span class="s1">equals</span><span class="s2">(</span><span class="s1">first</span><span class="s2">) &amp;&amp; </span><span class="s5">&quot;O&quot;</span><span class="s2">.</span><span class="s1">equals</span><span class="s2">(</span><span class="s1">middle</span><span class="s2">) &amp;&amp; </span><span class="s5">&quot;S&quot;</span><span class="s2">.</span><span class="s1">equals</span><span class="s2">(</span><span class="s1">last</span><span class="s2">)) {</span>
                <span class="s1">List</span><span class="s2">&lt;</span><span class="s1">Position</span><span class="s2">&gt; </span><span class="s1">positions </span><span class="s2">= </span><span class="s1">Arrays</span><span class="s2">.</span><span class="s1">asList</span><span class="s2">(</span>
                        <span class="s0">new </span><span class="s1">Position</span><span class="s2">(</span><span class="s1">row1</span><span class="s2">, </span><span class="s1">col1</span><span class="s2">),</span>
                        <span class="s0">new </span><span class="s1">Position</span><span class="s2">(</span><span class="s1">row2</span><span class="s2">, </span><span class="s1">col2</span><span class="s2">),</span>
                        <span class="s0">new </span><span class="s1">Position</span><span class="s2">(</span><span class="s1">row3</span><span class="s2">, </span><span class="s1">col3</span><span class="s2">)</span>
                <span class="s2">);</span>
                <span class="s1">colorInCells</span><span class="s2">(</span><span class="s1">positions</span><span class="s2">, </span><span class="s1">color</span><span class="s2">);</span>
                <span class="s0">return true</span><span class="s2">;</span>
            <span class="s2">}</span>
        <span class="s2">}</span>
        <span class="s0">return false</span><span class="s2">;</span>
    <span class="s2">}</span>

    <span class="s3">// Method to check if the board is full</span>
    <span class="s0">protected boolean </span><span class="s1">isBoardFull</span><span class="s2">() {</span>
        <span class="s0">for </span><span class="s2">(</span><span class="s1">String</span><span class="s2">[] </span><span class="s1">row </span><span class="s2">: </span><span class="s1">grid</span><span class="s2">) {</span>
            <span class="s0">for </span><span class="s2">(</span><span class="s1">String cell </span><span class="s2">: </span><span class="s1">row</span><span class="s2">) {</span>
                <span class="s0">if </span><span class="s2">(</span><span class="s1">cell </span><span class="s2">== </span><span class="s0">null</span><span class="s2">) {</span>
                    <span class="s0">return false</span><span class="s2">;</span>
                <span class="s2">}</span>
            <span class="s2">}</span>
        <span class="s2">}</span>
        <span class="s0">return true</span><span class="s2">;</span>
    <span class="s2">}</span>

    <span class="s3">// Method to declare the winner of the game</span>
    <span class="s0">protected void </span><span class="s1">declareWinner</span><span class="s2">() {</span>
        <span class="s3">// Ensure this code runs on the JavaFX Application Thread</span>
        <span class="s1">Platform</span><span class="s2">.</span><span class="s1">runLater</span><span class="s2">(() </span><span class="s1">-&gt; </span><span class="s2">{</span>
            <span class="s1">String winner</span><span class="s2">;</span>
            <span class="s0">if </span><span class="s2">(</span><span class="s1">player1Score </span><span class="s2">&gt; </span><span class="s1">player2Score</span><span class="s2">) {</span>
                <span class="s1">winner </span><span class="s2">= </span><span class="s5">&quot;Player 1 (Blue) wins!&quot;</span><span class="s2">;</span>
            <span class="s2">} </span><span class="s0">else if </span><span class="s2">(</span><span class="s1">player2Score </span><span class="s2">&gt; </span><span class="s1">player1Score</span><span class="s2">) {</span>
                <span class="s1">winner </span><span class="s2">= </span><span class="s5">&quot;Player 2 (Red) wins!&quot;</span><span class="s2">;</span>
            <span class="s2">} </span><span class="s0">else </span><span class="s2">{</span>
                <span class="s1">winner </span><span class="s2">= </span><span class="s5">&quot;It's a draw!&quot;</span><span class="s2">;</span>
            <span class="s2">}</span>
            <span class="s1">Alert winnerWindow </span><span class="s2">= </span><span class="s0">new </span><span class="s1">Alert</span><span class="s2">(</span><span class="s1">Alert</span><span class="s2">.</span><span class="s1">AlertType</span><span class="s2">.</span><span class="s1">INFORMATION</span><span class="s2">);</span>
            <span class="s1">winnerWindow</span><span class="s2">.</span><span class="s1">setTitle</span><span class="s2">(</span><span class="s5">&quot;Game Over&quot;</span><span class="s2">);</span>
            <span class="s1">winnerWindow</span><span class="s2">.</span><span class="s1">setHeaderText</span><span class="s2">(</span><span class="s0">null</span><span class="s2">);</span>
            <span class="s1">winnerWindow</span><span class="s2">.</span><span class="s1">setContentText</span><span class="s2">(</span><span class="s1">winner</span><span class="s2">);</span>

            <span class="s3">// Add &quot;Play Again&quot; and &quot;Exit&quot; buttons</span>
            <span class="s1">ButtonType playAgainButton </span><span class="s2">= </span><span class="s0">new </span><span class="s1">ButtonType</span><span class="s2">(</span><span class="s5">&quot;Play Again&quot;</span><span class="s2">);</span>
            <span class="s1">ButtonType exitButton </span><span class="s2">= </span><span class="s0">new </span><span class="s1">ButtonType</span><span class="s2">(</span><span class="s5">&quot;Exit&quot;</span><span class="s2">, </span><span class="s1">ButtonBar</span><span class="s2">.</span><span class="s1">ButtonData</span><span class="s2">.</span><span class="s1">CANCEL_CLOSE</span><span class="s2">);</span>
            <span class="s1">winnerWindow</span><span class="s2">.</span><span class="s1">getButtonTypes</span><span class="s2">().</span><span class="s1">setAll</span><span class="s2">(</span><span class="s1">playAgainButton</span><span class="s2">, </span><span class="s1">exitButton</span><span class="s2">);</span>

            <span class="s1">Optional</span><span class="s2">&lt;</span><span class="s1">ButtonType</span><span class="s2">&gt; </span><span class="s1">result </span><span class="s2">= </span><span class="s1">winnerWindow</span><span class="s2">.</span><span class="s1">showAndWait</span><span class="s2">();</span>
            <span class="s0">if </span><span class="s2">(</span><span class="s1">result</span><span class="s2">.</span><span class="s1">isPresent</span><span class="s2">() &amp;&amp; </span><span class="s1">result</span><span class="s2">.</span><span class="s1">get</span><span class="s2">() == </span><span class="s1">playAgainButton</span><span class="s2">) {</span>
                <span class="s3">// Reset everything and go back to StartPage</span>
                <span class="s1">startPage</span><span class="s2">.</span><span class="s1">showStartScene</span><span class="s2">();</span>
            <span class="s2">} </span><span class="s0">else </span><span class="s2">{</span>
                <span class="s3">// Close the application</span>
                <span class="s1">primaryStage</span><span class="s2">.</span><span class="s1">close</span><span class="s2">();</span>
            <span class="s2">}</span>
        <span class="s2">});</span>
    <span class="s2">}</span>

    <span class="s3">// Method to enable or disable the game board</span>
    <span class="s0">protected void </span><span class="s1">setBoardDisabled</span><span class="s2">(</span><span class="s0">boolean </span><span class="s1">disabled</span><span class="s2">) {</span>
        <span class="s0">for </span><span class="s2">(</span><span class="s1">Button</span><span class="s2">[] </span><span class="s1">row </span><span class="s2">: </span><span class="s1">buttons</span><span class="s2">) {</span>
            <span class="s0">for </span><span class="s2">(</span><span class="s1">Button cellButton </span><span class="s2">: </span><span class="s1">row</span><span class="s2">) {</span>
                <span class="s0">if </span><span class="s2">(</span><span class="s1">cellButton</span><span class="s2">.</span><span class="s1">getText</span><span class="s2">().</span><span class="s1">isEmpty</span><span class="s2">()) {</span>
                    <span class="s1">cellButton</span><span class="s2">.</span><span class="s1">setDisable</span><span class="s2">(</span><span class="s1">disabled</span><span class="s2">);</span>
                <span class="s2">}</span>
            <span class="s2">}</span>
        <span class="s2">}</span>
        <span class="s3">// Disable the S/O selection for human players when the board is disabled</span>
        <span class="s1">sButton</span><span class="s2">.</span><span class="s1">setDisable</span><span class="s2">(</span><span class="s1">disabled</span><span class="s2">);</span>
        <span class="s1">oButton</span><span class="s2">.</span><span class="s1">setDisable</span><span class="s2">(</span><span class="s1">disabled</span><span class="s2">);</span>
    <span class="s2">}</span>

    <span class="s3">// Method for the computer to make a move</span>
    <span class="s0">protected void </span><span class="s1">makeComputerMove</span><span class="s2">() {</span>
        <span class="s1">PauseTransition pause </span><span class="s2">= </span><span class="s0">new </span><span class="s1">PauseTransition</span><span class="s2">(</span><span class="s1">Duration</span><span class="s2">.</span><span class="s1">seconds</span><span class="s2">(</span><span class="s4">1</span><span class="s2">));</span>
        <span class="s1">pause</span><span class="s2">.</span><span class="s1">setOnFinished</span><span class="s2">(</span><span class="s1">e -&gt; </span><span class="s2">{</span>
            <span class="s3">// Ensure this code runs on the JavaFX Application Thread</span>
            <span class="s1">Platform</span><span class="s2">.</span><span class="s1">runLater</span><span class="s2">(() </span><span class="s1">-&gt; </span><span class="s2">{</span>
                <span class="s3">// Check if the board is full</span>
                <span class="s0">if </span><span class="s2">(</span><span class="s1">isBoardFull</span><span class="s2">()) {</span>
                    <span class="s1">declareWinner</span><span class="s2">();</span>
                    <span class="s0">return</span><span class="s2">;</span>
                <span class="s2">}</span>

                <span class="s3">// Choose a random empty cell</span>
                <span class="s1">List</span><span class="s2">&lt;</span><span class="s0">int</span><span class="s2">[]&gt; </span><span class="s1">emptyCells </span><span class="s2">= </span><span class="s0">new </span><span class="s1">ArrayList</span><span class="s2">&lt;&gt;();</span>
                <span class="s0">for </span><span class="s2">(</span><span class="s0">int </span><span class="s1">i </span><span class="s2">= </span><span class="s4">0</span><span class="s2">; </span><span class="s1">i </span><span class="s2">&lt; </span><span class="s1">grid</span><span class="s2">.</span><span class="s1">length</span><span class="s2">; </span><span class="s1">i</span><span class="s2">++) {</span>
                    <span class="s0">for </span><span class="s2">(</span><span class="s0">int </span><span class="s1">j </span><span class="s2">= </span><span class="s4">0</span><span class="s2">; </span><span class="s1">j </span><span class="s2">&lt; </span><span class="s1">grid</span><span class="s2">.</span><span class="s1">length</span><span class="s2">; </span><span class="s1">j</span><span class="s2">++) {</span>
                        <span class="s0">if </span><span class="s2">(</span><span class="s1">grid</span><span class="s2">[</span><span class="s1">i</span><span class="s2">][</span><span class="s1">j</span><span class="s2">] == </span><span class="s0">null</span><span class="s2">) {</span>
                            <span class="s1">emptyCells</span><span class="s2">.</span><span class="s1">add</span><span class="s2">(</span><span class="s0">new int</span><span class="s2">[]{</span><span class="s1">i</span><span class="s2">, </span><span class="s1">j</span><span class="s2">});</span>
                        <span class="s2">}</span>
                    <span class="s2">}</span>
                <span class="s2">}</span>

                <span class="s1">Random rand </span><span class="s2">= </span><span class="s0">new </span><span class="s1">Random</span><span class="s2">();</span>
                <span class="s0">int</span><span class="s2">[] </span><span class="s1">cell </span><span class="s2">= </span><span class="s1">emptyCells</span><span class="s2">.</span><span class="s1">get</span><span class="s2">(</span><span class="s1">rand</span><span class="s2">.</span><span class="s1">nextInt</span><span class="s2">(</span><span class="s1">emptyCells</span><span class="s2">.</span><span class="s1">size</span><span class="s2">()));</span>
                <span class="s0">int </span><span class="s1">row </span><span class="s2">= </span><span class="s1">cell</span><span class="s2">[</span><span class="s4">0</span><span class="s2">];</span>
                <span class="s0">int </span><span class="s1">col </span><span class="s2">= </span><span class="s1">cell</span><span class="s2">[</span><span class="s4">1</span><span class="s2">];</span>

                <span class="s3">// Randomly select 'S' or 'O'</span>
                <span class="s1">String</span><span class="s2">[] </span><span class="s1">symbols </span><span class="s2">= {</span><span class="s5">&quot;S&quot;</span><span class="s2">, </span><span class="s5">&quot;O&quot;</span><span class="s2">};</span>
                <span class="s1">String symbol </span><span class="s2">= </span><span class="s1">symbols</span><span class="s2">[</span><span class="s1">rand</span><span class="s2">.</span><span class="s1">nextInt</span><span class="s2">(</span><span class="s1">symbols</span><span class="s2">.</span><span class="s1">length</span><span class="s2">)];</span>

                <span class="s3">// Place the symbol on the board</span>
                <span class="s1">grid</span><span class="s2">[</span><span class="s1">row</span><span class="s2">][</span><span class="s1">col</span><span class="s2">] = </span><span class="s1">symbol</span><span class="s2">;</span>
                <span class="s1">Button cellButton </span><span class="s2">= </span><span class="s1">buttons</span><span class="s2">[</span><span class="s1">row</span><span class="s2">][</span><span class="s1">col</span><span class="s2">];</span>
                <span class="s1">cellButton</span><span class="s2">.</span><span class="s1">setText</span><span class="s2">(</span><span class="s1">symbol</span><span class="s2">);</span>

                <span class="s0">boolean </span><span class="s1">sosFormed </span><span class="s2">= </span><span class="s1">checkForSOS</span><span class="s2">(</span><span class="s1">row</span><span class="s2">, </span><span class="s1">col</span><span class="s2">);</span>

                <span class="s0">if </span><span class="s2">(</span><span class="s1">sosFormed</span><span class="s2">) {</span>
                    <span class="s1">updateScore</span><span class="s2">();</span>
                    <span class="s0">if </span><span class="s2">(</span><span class="s1">isBoardFull</span><span class="s2">()) {</span>
                        <span class="s1">declareWinner</span><span class="s2">();</span>
                        <span class="s0">return</span><span class="s2">;</span>
                    <span class="s2">}</span>
                    <span class="s3">// If the computer formed an SOS, it gets another turn</span>
                    <span class="s0">if </span><span class="s2">((</span><span class="s1">isPlayer1Turn </span><span class="s2">&amp;&amp; </span><span class="s1">isPlayer1Computer</span><span class="s2">) || (!</span><span class="s1">isPlayer1Turn </span><span class="s2">&amp;&amp; </span><span class="s1">isPlayer2Computer</span><span class="s2">)) {</span>
                        <span class="s1">makeComputerMove</span><span class="s2">();</span>
                    <span class="s2">} </span><span class="s0">else </span><span class="s2">{</span>
                        <span class="s1">setBoardDisabled</span><span class="s2">(</span><span class="s0">false</span><span class="s2">); </span><span class="s3">// Enable the board for human player</span>
                    <span class="s2">}</span>
                <span class="s2">} </span><span class="s0">else </span><span class="s2">{</span>
                    <span class="s3">// Switch turns</span>
                    <span class="s1">switchTurns</span><span class="s2">();</span>
                    <span class="s0">if </span><span class="s2">((</span><span class="s1">isPlayer1Turn </span><span class="s2">&amp;&amp; </span><span class="s1">isPlayer1Computer</span><span class="s2">) || (!</span><span class="s1">isPlayer1Turn </span><span class="s2">&amp;&amp; </span><span class="s1">isPlayer2Computer</span><span class="s2">)) {</span>
                        <span class="s1">makeComputerMove</span><span class="s2">();</span>
                    <span class="s2">} </span><span class="s0">else </span><span class="s2">{</span>
                        <span class="s1">setBoardDisabled</span><span class="s2">(</span><span class="s0">false</span><span class="s2">); </span><span class="s3">// Enable the board for human player</span>
                    <span class="s2">}</span>
                <span class="s2">}</span>
            <span class="s2">});</span>
        <span class="s2">});</span>
        <span class="s1">pause</span><span class="s2">.</span><span class="s1">play</span><span class="s2">();</span>
    <span class="s2">}</span>
<span class="s2">}</span>
</pre>
</body>
</html>